---
layout: post
title: Notes and Tips on Jekyll
---

This site uses [Jekyll][jk] as a publishing tool. These are my notes on getting it set up.

[jk]: http://jekyllrb.com/

### Installation

Installation was a pain, but only because I recently upgraded to Snow Leopard which broke my [MacPorts][mp] rubygems install. I’ve seen a number of ways to fix MacPorts after upgrading to Snow Leopard, but what worked best for me was just to wipe out the entire MacPorts directory by running `sudo rm -Rf /opt/local`, installing the latest version of MacPorts and reinstall the packages I use. 

[mp]: http://www.macports.org/

After getting rubygems running again installation was easy. The [Jekyll wiki][jw] has all the details on installing the gem. I also went ahead and installed [Pygments][py], for syntax highlighting. 

[jw]: http://wiki.github.com/mojombo/jekyll/install
[py]: http://pygments.org/

Next, I went through many of the [sites using Jekyll][ie] listed on the GitHub wiki to get an idea on how to structure the project and to see how the Liquid Template system was implemented. I then went about plugging in template tags into my layouts. I had some trouble getting date to show up on my individual post pages. I thought it was a post variable, but it’s actually a page variable, i.e. <code>{{ page.date }}</code>. I’m using mostly just the basics for content and titles, but I did want every post in the to have a border above it except for the first one, so I came up with the following template:

[ie]: http://wiki.github.com/mojombo/jekyll/sites

{% highlight html %}
{% for post in site.posts %}

	{% if forloop.index == 1 %}
		{% assign class = 'container post' %}
	{% else %}
	   {% assign class = 'container post border' %}
	{% endif %}

	<div class="{{ class }}">
	
	…
{% endfor %}
{% endhighlight %}

This way every post container gets the extra `border` class except the first one. One thing to keep in mind is that arrays are 1-based by default, hence the `forloop.index == 1`. 